function generateSiteListTable(){siteListEditor=new $.fn.dataTable.Editor({ajax:function(e,t,a,i,r){if("create"===a.action){var s=a.data[0];ajax({type:"POST",url:"./rest/website",data:JSON.stringify(s),success:i,error:r,contentType:"application/json"})}else if("edit"===a.action){console.log(JSON.stringify(a.data));var s=a.data;$.ajax({type:"PUT",url:"./rest/website",data:JSON.stringify(s),success:i,error:r,contentType:"application/json"})}else"remove"===a.action},idSrc:"id",table:"#site-list-table",fields:[{label:"Adress:",name:"address"},{label:"Description",name:"description"},{label:"Crawldepth",name:"depth"},{label:"Active",name:"active",type:"checkbox",options:[{label:"",value:1}]}]}),siteListEditor.on("preSubmit",function(e,t,a){if(console.log("Checking"),"create"===a){console.log("in if");var i=siteListEditor.field("address"),r=siteListEditor.field("depth");if(console.log(i.val()),$.ajax({cache:!1,url:i.val(),async:!1}).done(function(e){console.log(success)}).fail(function(e,t){i.error("Invalid URL: Maybe add slash at the end")}),r.val()<1&&r.error("Depth must be at least 1"),this.inError())return console.log("inerror"),!1}}),siteListTable=$("#site-list-table").DataTable({dom:"Bfrtip",ajax:"./rest/website",columns:[{data:"id"},{data:"address"},{data:"description"},{data:"depth"},{data:"active"},{data:"lCrawled"},{data:null}],columnDefs:[{render:function(e,t,a){return"<a class='btn btn-primary' href='./SiteOverview/"+a.id+"'>Details</a>"},targets:6},{orderable:!1,targets:6},{searchable:!1,targets:6}],select:"single",buttons:[{extend:"create",editor:siteListEditor},{extend:"edit",editor:siteListEditor}]}),siteListEditor.on("initEdit",function(){siteListEditor.disable("address"),siteListEditor.show("active")}).on("initCreate",function(){siteListEditor.enable("address"),siteListEditor.hide("active")})}function generateWordsTable(){wordListEditor=new $.fn.dataTable.Editor({ajax:function(e,t,a,i,r){if("create"===a.action);else if("edit"===a.action){console.log(JSON.stringify(a.data));var s=a.data;$.ajax({type:"PUT",url:"./rest/word",data:JSON.stringify(s),success:i,error:r,contentType:"application/json"})}else"remove"===a.action},idSrc:"word.word",table:"#word-list-table",fields:[{label:"Wordtype",name:"word.wType",type:"select",placeholder:"Select Wordtype"},{label:"Active",name:"word.active",type:"checkbox",options:[{label:"",value:1}]}]}),wordListTable=$("#word-list-table").DataTable({dom:"Bfrtip",ajax:"./rest/word",order:[[1,"desc"]],columns:[{data:"word.word"},{data:"word.amount"},{data:"wTypes.name"},{data:"word.active"},{data:null}],columnDefs:[{render:function(e,t,a){return"<a class='btn btn-primary' href='./WordOverview/"+a.word+"'>Details</a>"},targets:4},{orderable:!1,targets:4},{searchable:!1,targets:4}],select:"single",buttons:[{extend:"edit",editor:wordListEditor}]})}var siteListTable,siteListEditor,wordListTable;$(document).ready(function(){generateSiteListTable(),generateWordsTable()}),$("#url-alert-modal").on("hidden.bs.modal",function(e){location.reload()});